<!--
 * @Author: liuwanyong liuwanyong2018@gmail.com
 * @Date: 2022-10-15 16:16:27
 * @LastEditors: liuwanyong liuwanyong2018@gmail.com
 * @LastEditTime: 2022-10-15 18:06:32
 * @FilePath: /brower/README.md
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE##
-->

# brower

浏览器概念知识构建

## 历史

浏览器目前是多进程架构的技术选型，由单进程的技术历史发展过来的。
以前的硬件不行，CPU，GPU，内存，闪存，带宽啊等等都不行，以前的网络服务的数据实体也简单，图文而已。
某个技术的发展都是跟整个生态技术的发展息息相关的。

## 线程与进程

### 线程

线程应该是跟硬件层面的 cpu 线程有关联的，但是不讨论低层的执行到底有木有关系
。我们的范畴只存在于软件技术领域。这个线程可以理解为一段可以独立运行的代码逻辑
的实际运行。
单单只看它本身木得意义，有意义的是，在时间尺度和内存尺度看管理它的进程，以及
同时并行运行的其他线程，就有意义了。
还有一个概念就是并行运行。
其实可想一个对比就是单线程运行几个独立不干扰的逻辑，跟多个线程运行它们，为了效率。
线程之间共享同一进程的内存，数据。

### 进程

进程，在我看来就是一个独立的程序从开始运行到结束
整个过程中，它用到的内存，线程活动管理，代码，数据操作等等所有的
总和。官方叫程序的运行环境。

#### 特色特性

-  多线程并行运行，某个线程出问题，整个进程出问题，会崩掉了。
-  进程之间互相独立，互不干扰。
-  进程终结，它的内存也被回收了。
-  线程之间共享进程的数据。

#### 单进程技术浏览器

运行的任务：

-  多个页面的网络发收，数据解析，渲染，交互等。
-  插件的运行。
-  对内存的读写等。
   出现任何一个问题，都要堵塞或者崩溃进程，所有页面都卡顿或者崩溃。
   放开读写给插件和进程页面，很危险。
   页面关闭，内存回收不干净，内存泄漏，越来越卡顿。

#### 多进程技术架构

主进程，
GUI 进程，网络进程，插件进程，渲染进程。这五种进程做分工协作
。

##### 主进程

人机交互，其他进程的管理，读写内存，界面显示等。它才有读写权限。安全。

##### 渲染进程

一般情况下，，，一个页面一个渲染进程，互相不干扰，关了就回收内存，很干净。包括 HTML
，css,js 转换为页面的所有逻辑都是它处理。排版引擎
blink,js 引擎 v8。
对读写
权限很严，沙箱模式下运行的。

##### GPU 进程

为了 Css 的
3D 效果，出现的，后来网页和默认的 UI 界面都是它绘制了。

##### 网络进程

网络资源的加载。

##### 插件进程

隔离插件和页面的运行影响，插件容易崩溃。

##### 评价

体验很好，流畅，安全，互相不影响。
但是，很多进程都是公共资源的副本，比如渲染进程，浪费内存。
而且各个模块之间的耦合度很高，扩展性差，关系复杂。升级困难。